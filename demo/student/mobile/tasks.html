<!doctype html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
    <title>Learn@Home - Gestion des Tâches | Maquette Mobile</title>
    <link rel="stylesheet" href="../../assets/styles/shared.css" />
    <link rel="stylesheet" href="../../assets/styles/layout.css" />
    <link rel="stylesheet" href="../../assets/styles/tasks.css" />
  </head>

  <body>
    <div class="mobile-header">
      <button class="menu-btn" id="menuBtn" aria-label="Menu">
        <img src="../../assets/icons/menu.svg" width="24" height="24" alt="" />
      </button>
      <div class="mobile-logo">
        <img src="../../assets/icons/book.svg" alt="" />
        Learn@Home
      </div>
      <div class="mobile-header-spacer"></div>
    </div>

    <div class="sidebar-overlay" id="sidebarOverlay"></div>
    <aside class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <div class="sidebar-logo">
          <img src="../../assets/icons/book.svg" alt="" />
          Learn@Home
        </div>
        <button class="close-btn" id="closeBtn" aria-label="Fermer">
          <img src="../../assets/icons/x.svg" width="24" height="24" alt="" />
        </button>
      </div>

      <nav>
        <div class="nav-section">
          <div class="nav-label">Principal</div>
          <a href="dashboard.html" class="nav-item">
            <span class="nav-item-icon"><img src="../../assets/icons/layout-dashboard.svg" alt="" /></span>
            Tableau de bord
          </a>
          <a href="chat.html" class="nav-item">
            <span class="nav-item-icon"><img src="../../assets/icons/message-square.svg" alt="" /></span>
            Messages
            <span class="notification-badge">5</span>
          </a>
        </div>

        <div class="nav-section">
          <div class="nav-label">Outils</div>
          <a href="calendar.html" class="nav-item">
            <span class="nav-item-icon"><img src="../../assets/icons/calendar.svg" alt="" /></span>
            Calendrier
          </a>
          <a href="tasks.html" class="nav-item active" aria-current="page">
            <span class="nav-item-icon"><img src="../../assets/icons/check-square.svg" alt="" /></span>
            Tâches
          </a>
        </div>

        <div class="nav-section">
          <div class="nav-label">Compte</div>
          <a href="settings.html" class="nav-item">
            <span class="nav-item-icon"><img src="../../assets/icons/settings.svg" alt="" /></span>
            Paramètres
          </a>
          <a href="login.html" class="nav-item">
            <span class="nav-item-icon"><img src="../../assets/icons/log-out.svg" alt="" /></span>
            Déconnexion
          </a>
        </div>
      </nav>

      <div class="user-profile">
        <div class="user-avatar antoine">
          AK
          <span class="user-avatar-badge">5</span>
        </div>
        <div class="user-name">Antoine Kreuder</div>
        <div class="user-role">Élève</div>
      </div>
    </aside>

    <div class="container">
      <div class="tasks-mobile-header">
        <h1>Gestion des Tâches</h1>
        <button class="button button-primary tasks-create-btn" id="addTaskBtn">Créer</button>
      </div>

      <div class="controls">
        <div class="controls-content">
          <div class="filters">
            <button class="filter-btn active">Toutes</button>
            <button class="filter-btn">À faire</button>
            <button class="filter-btn">En cours</button>
            <button class="filter-btn">Complétées</button>
          </div>

          <input type="text" class="search-box" placeholder="Rechercher une tâche..." />
        </div>
      </div>

      <div class="tasks-container">
        <div class="task-card status-pending">
          <div class="task-header">
            <input type="checkbox" class="task-checkbox" id="task1" />
            <div class="task-content">
              <div class="task-title">Équations du second degré - Exercices</div>
              <div class="task-description">Compléter les 10 exercices de la feuille distribuée par Yann Uliong</div>
              <div class="task-meta">
                <div class="meta-item">
                  <img src="../../assets/icons/calendar.svg" alt="" />
                   10 janvier 2026
                </div>
                <div class="meta-item">
                  <img src="../../assets/icons/user.svg" alt="" />
                   Yann Uliong
                </div>
              </div>
            </div>
          </div>
          <div class="task-footer">
            <div class="task-actions-row">
              <div class="priority-badge priority-high">Haute</div>
              <div class="status-badge status-pending">À faire</div>
            </div>
            <div class="task-actions">
              <button class="action-btn" aria-label="Modifier la tâche">
                <img src="../../assets/icons/pencil.svg" alt="" />
              </button>
              <button class="action-btn" aria-label="Supprimer la tâche">
                <img src="../../assets/icons/trash-2.svg" alt="" />
              </button>
            </div>
          </div>
        </div>

        <div class="task-card status-inprogress">
          <div class="task-header">
            <input type="checkbox" class="task-checkbox" id="task2" />
            <div class="task-content">
              <div class="task-title">Lecture du chapitre 5 - Français</div>
              <div class="task-description">
                Lire "Le Seigneur des Anneaux" chapitre 5 et faire un résumé de 2 pages
              </div>
              <div class="task-meta">
                <div class="meta-item">
                  <img src="../../assets/icons/calendar.svg" alt="" />
                   12 janvier 2026
                </div>
                <div class="meta-item">
                  <img src="../../assets/icons/user.svg" alt="" />
                   Yann Uliong
                </div>
              </div>
            </div>
          </div>
          <div class="task-footer">
            <div class="task-actions-row">
              <div class="priority-badge priority-medium">Normal</div>
              <div class="status-badge status-inprogress">En cours</div>
            </div>
            <div class="task-actions">
              <button class="action-btn" aria-label="Modifier la tâche">
                <img src="../../assets/icons/pencil.svg" alt="" />
              </button>
              <button class="action-btn" aria-label="Supprimer la tâche">
                <img src="../../assets/icons/trash-2.svg" alt="" />
              </button>
            </div>
          </div>
        </div>

        <div class="task-card status-done">
          <div class="task-header">
            <input type="checkbox" class="task-checkbox" id="task3" checked />
            <div class="task-content">
              <div class="task-title">Révision vocabulaire anglais</div>
              <div class="task-description">Apprendre 50 nouveaux mots de vocabulaire pour le test</div>
              <div class="task-meta">
                <div class="meta-item">
                  <img src="../../assets/icons/calendar.svg" alt="" />
                   5 janvier 2026
                </div>
                <div class="meta-item">
                  <img src="../../assets/icons/user.svg" alt="" />
                   Yann Uliong
                </div>
              </div>
            </div>
          </div>
          <div class="task-footer">
            <div class="task-actions-row">
              <div class="priority-badge priority-low">Basse</div>
              <div class="status-badge status-done">Complétée</div>
            </div>
            <div class="task-actions">
              <button class="action-btn" aria-label="Modifier la tâche">
                <img src="../../assets/icons/pencil.svg" alt="" />
              </button>
              <button class="action-btn" aria-label="Supprimer la tâche">
                <img src="../../assets/icons/trash-2.svg" alt="" />
              </button>
            </div>
          </div>
        </div>

        <div class="task-card status-pending">
          <div class="task-header">
            <input type="checkbox" class="task-checkbox" id="task4" />
            <div class="task-content">
              <div class="task-title">Rapport de Sciences - Expérience sur la photosynthèse</div>
              <div class="task-description">
                Rédiger un rapport détaillé incluant hypothèse, procédure, résultats et conclusions
              </div>
              <div class="task-meta">
                <div class="meta-item">
                  <img src="../../assets/icons/calendar.svg" alt="" />
                   15 janvier 2026
                </div>
                <div class="meta-item">
                  <img src="../../assets/icons/user.svg" alt="" />
                   Yann Uliong
                </div>
              </div>
            </div>
          </div>
          <div class="task-footer">
            <div class="task-actions-row">
              <div class="priority-badge priority-high">Haute</div>
              <div class="status-badge status-pending">À faire</div>
            </div>
            <div class="task-actions">
              <button class="action-btn" aria-label="Modifier la tâche">
                <img src="../../assets/icons/pencil.svg" alt="" />
              </button>
              <button class="action-btn" aria-label="Supprimer la tâche">
                <img src="../../assets/icons/trash-2.svg" alt="" />
              </button>
            </div>
          </div>
        </div>

        <div class="task-card status-pending">
          <div class="task-header">
            <input type="checkbox" class="task-checkbox" id="task5" />
            <div class="task-content">
              <div class="task-title">Projet: Présentation Histoire - Révolution française</div>
              <div class="task-description">
                Créer une présentation PowerPoint de 15-20 diapositives sur la Révolution française
              </div>
              <div class="task-meta">
                <div class="meta-item">
                  <img src="../../assets/icons/calendar.svg" alt="" />
                   20 janvier 2026
                </div>
                <div class="meta-item">
                  <img src="../../assets/icons/user.svg" alt="" />
                   Yann Uliong
                </div>
              </div>
            </div>
          </div>
          <div class="task-footer">
            <div class="task-actions-row">
              <div class="priority-badge priority-low">Basse</div>
              <div class="status-badge status-pending">À faire</div>
            </div>
            <div class="task-actions">
              <button class="action-btn" aria-label="Modifier la tâche">
                <img src="../../assets/icons/pencil.svg" alt="" />
              </button>
              <button class="action-btn" aria-label="Supprimer la tâche">
                <img src="../../assets/icons/trash-2.svg" alt="" />
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="modal-backdrop" id="modalBackdrop"></div>
    <div class="modal" id="taskModal" data-mode="create">
      <div class="modal-header">
        <h2 class="modal-title" id="modalTitle">Ajouter une tâche</h2>
        <button class="modal-close" id="closeTaskModal" aria-label="Fermer le formulaire">
          <img src="../../assets/icons/x.svg" width="18" height="18" alt="" />
        </button>
      </div>
      <div class="modal-body">
        <form id="taskForm">
          <div class="form-group">
            <label for="taskTitle" class="form-label required">Titre</label>
            <input
              type="text"
              id="taskTitle"
              class="form-input"
              placeholder="Ex: Équations du second degré"
              maxlength="100"
              required
            />
            <div class="char-counter">
              <span id="titleCounter">0</span>
              /100
            </div>
            <div class="form-error" id="titleError"></div>
          </div>

          <div class="form-group">
            <label for="taskDescription" class="form-label">Description</label>
            <textarea
              id="taskDescription"
              class="form-textarea"
              placeholder="Ex: Compléter les 10 exercices de la feuille distribuée..."
              maxlength="500"
            ></textarea>
            <div class="char-counter">
              <span id="descCounter">0</span>
              /500
            </div>
            <div class="form-error" id="descError"></div>
          </div>

          <div class="form-group">
            <label for="taskDate" class="form-label required">Date d'échéance</label>
            <input type="date" id="taskDate" class="form-input" required />
            <div class="form-error" id="dateError"></div>
          </div>

          <div class="task-meta task-meta-modal" id="taskMetaSection" hidden>
            <div class="meta-item">
              <img src="../../assets/icons/user.svg" alt="" />
              <span id="taskAttributedBy">Assigné par: —</span>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="button button-primary" id="submitTaskBtn" data-action="create">
          Créer la tâche
        </button>
        <button type="button" class="button button-secondary" id="cancelTaskBtn">Annuler</button>
      </div>
    </div>

    <div id="toast-container" class="toast-container"></div>
    <div class="copyright">© 2026 Learn@Home. All rights reserved.</div>
    <script type="module" src="../../assets/js/pages/tasks.js"></script>
  </body>
</html>
