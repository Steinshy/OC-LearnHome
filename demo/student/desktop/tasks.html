<!doctype html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Learn@Home - Gestion des Tâches | Maquette Desktop</title>
    <link rel="stylesheet" href="../../assets/styles/shared.css" />
    <link rel="stylesheet" href="../../assets/styles/layout.css" />
    <link rel="stylesheet" href="../../assets/styles/tasks.css" />
  </head>

  <body>
    <div class="page-layout">
      <aside class="nav-sidebar">
        <div class="nav-sidebar-header">
          <div class="nav-sidebar-logo">
            <img src="../../assets/icons/book.svg" alt="" />
            Learn@Home
          </div>
        </div>

        <nav>
          <div class="nav-section">
            <div class="nav-label">Principal</div>
            <a href="dashboard.html" class="nav-item">
              <span class="nav-item-icon"><img src="../../assets/icons/layout-dashboard.svg" alt="" /></span>
              Tableau de bord
            </a>
            <a href="chat.html" class="nav-item">
              <span class="nav-item-icon"><img src="../../assets/icons/message-square.svg" alt="" /></span>
              Messages
              <span class="notification-badge">5</span>
            </a>
          </div>
          <div class="nav-section">
            <div class="nav-label">Outils</div>
            <a href="calendar.html" class="nav-item">
              <span class="nav-item-icon"><img src="../../assets/icons/calendar.svg" alt="" /></span>
              Calendrier
            </a>
            <a href="tasks.html" class="nav-item active" aria-current="page">
              <span class="nav-item-icon"><img src="../../assets/icons/check-square.svg" alt="" /></span>
              Tâches
            </a>
          </div>
          <div class="nav-section">
            <div class="nav-label">Compte</div>
            <a href="settings.html" class="nav-item">
              <span class="nav-item-icon"><img src="../../assets/icons/settings.svg" alt="" /></span>
              Paramètres
            </a>
            <a href="login.html" class="nav-item">
              <span class="nav-item-icon"><img src="../../assets/icons/log-out.svg" alt="" /></span>
              Déconnexion
            </a>
          </div>
        </nav>

        <div class="user-profile">
          <div class="user-avatar antoine">
            AK
            <span class="user-avatar-badge">5</span>
          </div>
          <div class="user-info">
            <div class="user-name">Antoine Kreuder</div>
            <div class="user-role">Élève</div>
          </div>
        </div>
      </aside>

      <main class="main">
        <div class="header">
          <h1>Gestion des Tâches</h1>
          <button class="button button-primary" id="addTaskBtn">+ Ajouter une tâche</button>
        </div>

        <div class="controls">
          <div class="filters">
            <button class="filter-btn active">Toutes</button>
            <button class="filter-btn">À faire</button>
            <button class="filter-btn">En cours</button>
            <button class="filter-btn">Complétées</button>
          </div>

          <div class="tasks-toolbar">
            <input type="text" class="search-box" placeholder="Rechercher une tâche..." />
            <div class="custom-dropdown">
              <button type="button" class="dropdown-toggle" tabindex="0">Trier par: Date</button>
              <div class="dropdown-menu">
                <button type="button" class="dropdown-item selected" tabindex="0">Trier par: Date</button>
                <button type="button" class="dropdown-item" tabindex="0">Trier par: Priorité</button>
                <button type="button" class="dropdown-item" tabindex="0">Trier par: Titre</button>
              </div>
            </div>
          </div>
        </div>

        <div class="tasks-container">
          <div class="task-card status-pending">
            <input type="checkbox" class="task-checkbox" id="task1" />
            <label for="task1" class="checkbox"></label>
            <div class="task-content">
              <div class="task-title">Équations du second degré - Exercices</div>
              <div class="task-description">Compléter les 10 exercices de la feuille distribuée par Yann</div>
              <div class="task-meta">
                <div class="meta-item">
                  <img src="../../assets/icons/calendar.svg" alt="" />
                  Échéance: 10 janvier 2026
                </div>
                <div class="meta-item">
                  <img src="../../assets/icons/user.svg" alt="" />
                  Créé par: Yann Uliong
                </div>
              </div>
            </div>
            <div class="priority-badge priority-high">Haute</div>
            <div class="status-badge status-pending">À faire</div>
            <div class="task-actions">
              <button class="action-btn" aria-label="Modifier la tâche">
                <img src="../../assets/icons/pencil.svg" alt="" />
              </button>
              <button class="action-btn" aria-label="Supprimer la tâche">
                <img src="../../assets/icons/trash-2.svg" alt="" />
              </button>
            </div>
          </div>

          <div class="task-card status-inprogress">
            <input type="checkbox" class="task-checkbox" id="task2" />
            <label for="task2" class="checkbox"></label>
            <div class="task-content">
              <div class="task-title">Lecture du chapitre 5 - Français</div>
              <div class="task-description">
                Lire "Le Seigneur des Anneaux" chapitre 5 et faire un résumé de 2 pages
              </div>
              <div class="task-meta">
                <div class="meta-item">
                  <img src="../../assets/icons/calendar.svg" alt="" />
                   12 janvier 2026
                </div>
                <div class="meta-item">
                  <img src="../../assets/icons/user.svg" alt="" class="icon-sm-meta" />
                  Auto-créée
                </div>
              </div>
            </div>
            <div class="priority-badge priority-medium">Normal</div>
            <div class="status-badge status-inprogress">En cours</div>
            <div class="task-actions">
              <button class="action-btn" aria-label="Modifier la tâche">
                <img src="../../assets/icons/pencil.svg" alt="" />
              </button>
              <button class="action-btn" aria-label="Supprimer la tâche">
                <img src="../../assets/icons/trash-2.svg" alt="" />
              </button>
            </div>
          </div>

          <div class="task-card status-done">
            <input type="checkbox" class="task-checkbox" id="task3" checked />
            <label for="task3" class="checkbox"></label>
            <div class="task-content">
              <div class="task-title">Révision vocabulaire anglais</div>
              <div class="task-description">Apprendre 50 nouveaux mots de vocabulaire pour le test</div>
              <div class="task-meta">
                <div class="meta-item">
                  <img src="../../assets/icons/calendar.svg" alt="" />
                   5 janvier 2026
                </div>
                <div class="meta-item">
                  <img src="../../assets/icons/user.svg" alt="" class="icon-sm-meta" />
                  Auto-créée
                </div>
              </div>
            </div>
            <div class="priority-badge priority-low">Basse</div>
            <div class="status-badge status-done">Complétée</div>
            <div class="task-actions">
              <button class="action-btn" aria-label="Modifier la tâche">
                <img src="../../assets/icons/pencil.svg" alt="" />
              </button>
              <button class="action-btn" aria-label="Supprimer la tâche">
                <img src="../../assets/icons/trash-2.svg" alt="" />
              </button>
            </div>
          </div>

          <div class="task-card status-pending">
            <input type="checkbox" class="task-checkbox" id="task4" />
            <label for="task4" class="checkbox"></label>
            <div class="task-content">
              <div class="task-title">Rapport de Sciences - Expérience sur la photosynthèse</div>
              <div class="task-description">
                Rédiger un rapport détaillé incluant hypothèse, procédure, résultats et conclusions
              </div>
              <div class="task-meta">
                <div class="meta-item">
                  <img src="../../assets/icons/calendar.svg" alt="" />
                   15 janvier 2026
                </div>
                <div class="meta-item">
                  <img src="../../assets/icons/user.svg" alt="" />
                   Yann Uliong
                </div>
              </div>
            </div>
            <div class="priority-badge priority-high">Haute</div>
            <div class="status-badge status-pending">À faire</div>
            <div class="task-actions">
              <button class="action-btn" aria-label="Modifier la tâche">
                <img src="../../assets/icons/pencil.svg" alt="" />
              </button>
              <button class="action-btn" aria-label="Supprimer la tâche">
                <img src="../../assets/icons/trash-2.svg" alt="" />
              </button>
            </div>
          </div>

          <div class="task-card status-pending">
            <input type="checkbox" class="task-checkbox" id="task5" />
            <label for="task5" class="checkbox"></label>
            <div class="task-content">
              <div class="task-title">Projet: Présentation Histoire - Révolution française</div>
              <div class="task-description">
                Créer une présentation PowerPoint de 15-20 diapositives sur la Révolution française
              </div>
              <div class="task-meta">
                <div class="meta-item">
                  <img src="../../assets/icons/calendar.svg" alt="" />
                   20 janvier 2026
                </div>
                <div class="meta-item">
                  <img src="../../assets/icons/user.svg" alt="" class="icon-sm-meta" />
                  Auto-créée
                </div>
              </div>
            </div>
            <div class="priority-badge priority-low">Basse</div>
            <div class="status-badge status-pending">À faire</div>
            <div class="task-actions">
              <button class="action-btn" aria-label="Modifier la tâche">
                <img src="../../assets/icons/pencil.svg" alt="" />
              </button>
              <button class="action-btn" aria-label="Supprimer la tâche">
                <img src="../../assets/icons/trash-2.svg" alt="" />
              </button>
            </div>
          </div>

          <div class="task-card status-done">
            <input type="checkbox" class="task-checkbox" id="task6" checked />
            <label for="task6" class="checkbox"></label>
            <div class="task-content">
              <div class="task-title">Quiz - Géométrie (Chapitre 3)</div>
              <div class="task-description">
                Répondre aux 20 questions du quiz en ligne sur les triangles et leurs propriétés
              </div>
              <div class="task-meta">
                <div class="meta-item">
                  <img src="../../assets/icons/calendar.svg" alt="" />
                   8 janvier 2026
                </div>
                <div class="meta-item">
                  <img src="../../assets/icons/user.svg" alt="" />
                   Système
                </div>
              </div>
            </div>
            <div class="priority-badge priority-medium">Normal</div>
            <div class="status-badge status-done">Complétée</div>
            <div class="task-actions">
              <button class="action-btn" aria-label="Modifier la tâche">
                <img src="../../assets/icons/pencil.svg" alt="" />
              </button>
              <button class="action-btn" aria-label="Supprimer la tâche">
                <img src="../../assets/icons/trash-2.svg" alt="" />
              </button>
            </div>
          </div>
        </div>

        <div class="copyright">© 2026 Learn@Home. All rights reserved.</div>
      </main>
    </div>

    <div class="modal" id="taskModal" data-mode="create">
      <div class="modal-content">
        <div class="modal-header">
          <h2 class="modal-title" id="modalTitle">Ajouter une tâche</h2>
          <button class="modal-close" id="closeTaskModal" aria-label="Fermer le formulaire">
            <img src="../../assets/icons/x.svg" width="18" height="18" alt="" />
          </button>
        </div>
        <form id="taskForm">
          <div class="form-group">
            <label for="taskTitle" class="form-label required">Titre</label>
            <input
              type="text"
              id="taskTitle"
              class="form-input"
              placeholder="Ex: Équations du second degré"
              maxlength="100"
              required
            />
            <div class="char-counter">
              <span id="titleCounter">0</span>
              /100
            </div>
            <div class="form-error" id="titleError"></div>
          </div>

          <div class="form-group">
            <label for="taskDescription" class="form-label">Description</label>
            <textarea
              id="taskDescription"
              class="form-textarea"
              placeholder="Ex: Compléter les 10 exercices de la feuille distribuée..."
              maxlength="500"
            ></textarea>
            <div class="char-counter">
              <span id="descCounter">0</span>
              /500
            </div>
            <div class="form-error" id="descriptionError"></div>
          </div>

          <div class="form-group">
            <label for="taskDate" class="form-label required">Date d'échéance</label>
            <input type="date" id="taskDate" class="form-input" required />
            <div class="form-error" id="dateError"></div>
          </div>

          <div class="task-meta task-meta-modal" id="taskMetaSection" hidden>
            <div class="meta-item">
              <img src="../../assets/icons/user.svg" alt="" />
              <span id="taskAttributedBy">Assigné par: —</span>
            </div>
          </div>

          <div class="modal-footer">
            <button type="submit" class="button button-primary" id="submitTaskBtn" data-action="create">
              Créer la tâche
            </button>
            <button type="button" class="button button-secondary" id="cancelTaskBtn">Annuler</button>
          </div>
        </form>
      </div>
    </div>

    <div id="toast-container" class="toast-container"></div>
    <script type="module" src="../../assets/js/pages/tasks.js"></script>
  </body>
</html>
