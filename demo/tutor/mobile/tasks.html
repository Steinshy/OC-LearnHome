<!doctype html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
    <title>Learn@Home - Gestion des Tâches (Tuteur) | Maquette Mobile</title>
    <link rel="stylesheet" href="../../assets/styles/shared.css" />
    <link rel="stylesheet" href="../../assets/styles/layout.css" />
    <link rel="stylesheet" href="../../assets/styles/tasks.css" />
  </head>

  <body>
    <div class="mobile-header">
      <button class="menu-btn" id="menuBtn" aria-label="Menu">
        <img src="../../assets/icons/menu.svg" width="24" height="24" alt="" />
      </button>
      <div class="mobile-logo">
        <img src="../../assets/icons/book.svg" alt="" />
        Learn@Home
      </div>
      
      <div class="mobile-header-spacer"></div>
    </div>

    <div class="sidebar-overlay" id="sidebarOverlay"></div>
    <aside class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <div class="sidebar-logo">
          <img src="../../assets/icons/book.svg" alt="" />
          Learn@Home
        </div>
        
        <button class="close-btn" id="closeBtn" aria-label="Fermer">
          <img src="../../assets/icons/x.svg" width="24" height="24" alt="" />
        </button>
      </div>

      <nav>
        <div class="nav-section">
          <div class="nav-label">Principal</div>
          <a href="dashboard.html" class="nav-item">
            <span class="nav-item-icon"><img src="../../assets/icons/layout-dashboard.svg" alt="" /></span>
            Tableau de bord
          </a>
          <a href="chat.html" class="nav-item">
            <span class="nav-item-icon"><img src="../../assets/icons/message-square.svg" alt="" /></span>
            Messages
            <span class="notification-badge">6</span>
          </a>
        </div>

        <div class="nav-section">
          <div class="nav-label">Outils</div>
          <a href="calendar.html" class="nav-item">
            <span class="nav-item-icon"><img src="../../assets/icons/calendar.svg" alt="" /></span>
            Calendrier
          </a>
          <a href="tasks.html" class="nav-item active" aria-current="page">
            <span class="nav-item-icon"><img src="../../assets/icons/check-square.svg" alt="" /></span>
            Tâches
          </a>
        </div>

        <div class="nav-section">
          <div class="nav-label">Compte</div>
          <a href="settings.html" class="nav-item">
            <span class="nav-item-icon"><img src="../../assets/icons/settings.svg" alt="" /></span>
            Paramètres
          </a>
          <a href="login.html" class="nav-item">
            <span class="nav-item-icon"><img src="../../assets/icons/log-out.svg" alt="" /></span>
            Déconnexion
          </a>
        </div>
      </nav>

      <div class="user-profile">
        <div class="user-avatar yann">
          YU
          <span class="user-avatar-badge">6</span>
        </div>
        <div class="user-name">Yann Uliong</div>
        <div class="user-role">Tuteur</div>
      </div>
    </aside>

    <div class="container">
      <div class="tasks-mobile-header">
        <h1>Gestion des Tâches</h1>
        <button class="button button-primary tasks-create-btn" id="createTaskBtn">Créer</button>
      </div>

      <div class="controls">
        <div class="controls-content">
          <div class="filters">
            <button class="filter-btn active">Toutes</button>
            <button class="filter-btn">En attente</button>
            <button class="filter-btn">En cours</button>
            <button class="filter-btn">Complétées</button>
          </div>

          <input type="text" class="search-box" placeholder="Rechercher une tâche..." />
          <div class="custom-dropdown">
            <button type="button" class="dropdown-toggle" tabindex="0">Trier par: Date</button>
            <div class="dropdown-menu">
              <button type="button" class="dropdown-item selected" tabindex="0">Trier par: Date</button>
              <button type="button" class="dropdown-item" tabindex="0">Trier par: Priorité</button>
              <button type="button" class="dropdown-item" tabindex="0">Trier par: Titre</button>
            </div>
          </div>
        </div>
      </div>

      <div class="tasks-container">
        <div class="task-card status-pending">
          <div class="task-header">
            <input type="checkbox" class="task-checkbox" id="task1" />
            <div class="task-content">
              <div class="task-title">Équations</div>
              <div class="task-description">Compléter les 10 exercices de la feuille distribuée</div>
              <div class="task-meta">
                <div class="meta-item">
                  <img src="../../assets/icons/calendar.svg" alt="" />
                   10 janvier 2026
                </div>
                <div class="meta-item">
                  <img src="../../assets/icons/user.svg" alt="" />
                   Antoine Kreuder
                </div>
              </div>
            </div>
          </div>
          <div class="task-footer">
            <div class="task-actions-row">
              <div class="priority-badge priority-high">Haute</div>
              <div class="status-badge status-pending">En cours</div>
            </div>
            <div class="task-actions">
              <button class="action-btn" aria-label="Modifier la tâche">
                <img src="../../assets/icons/pencil.svg" alt="" />
              </button>
              <button class="action-btn" aria-label="Supprimer la tâche">
                <img src="../../assets/icons/trash-2.svg" alt="" />
              </button>
            </div>
          </div>
        </div>

        <div class="task-card status-inprogress">
          <div class="task-header">
            <input type="checkbox" class="task-checkbox" id="task2" />
            <div class="task-content">
              <div class="task-title">Lecture Ch.5</div>
              <div class="task-description">
                Lire "Le Seigneur des Anneaux" chapitre 5 et faire un résumé de 2 pages
              </div>
              <div class="task-meta">
                <div class="meta-item">
                  <img src="../../assets/icons/calendar.svg" alt="" />
                   12 janvier 2026
                </div>
                <div class="meta-item">
                  <img src="../../assets/icons/user.svg" alt="" />
                   Sophie Martin
                </div>
              </div>
            </div>
          </div>
          <div class="task-footer">
            <div class="task-actions-row">
              <div class="priority-badge priority-medium">Normal</div>
              <div class="status-badge status-inprogress">En cours</div>
            </div>
            <div class="task-actions">
              <button class="action-btn" aria-label="Modifier la tâche">
                <img src="../../assets/icons/pencil.svg" alt="" />
              </button>
              <button class="action-btn" aria-label="Supprimer la tâche">
                <img src="../../assets/icons/trash-2.svg" alt="" />
              </button>
            </div>
          </div>
        </div>

        <div class="task-card status-done">
          <div class="task-header">
            <input type="checkbox" class="task-checkbox" id="task3" checked />
            <div class="task-content">
              <div class="task-title">Rapport</div>
              <div class="task-description">
                Rédiger un rapport détaillé incluant hypothèse, procédure, résultats et conclusions
              </div>
              <div class="task-meta">
                <div class="meta-item">
                  <img src="../../assets/icons/calendar.svg" alt="" />
                   15 janvier 2026
                </div>
                <div class="meta-item">
                  <img src="../../assets/icons/user.svg" alt="" />
                   Antoine Kreuder
                </div>
              </div>
            </div>
          </div>
          <div class="task-footer">
            <div class="task-actions-row">
              <div class="priority-badge priority-high">Haute</div>
              <div class="status-badge status-done">Complétée</div>
            </div>
            <div class="task-actions">
              <button class="action-btn" aria-label="Modifier la tâche">
                <img src="../../assets/icons/pencil.svg" alt="" />
              </button>
              <button class="action-btn" aria-label="Supprimer la tâche">
                <img src="../../assets/icons/trash-2.svg" alt="" />
              </button>
            </div>
          </div>
        </div>

        <div class="task-card status-pending">
          <div class="task-header">
            <input type="checkbox" class="task-checkbox" id="task4" />
            <div class="task-content">
              <div class="task-title">Exercices Math</div>
              <div class="task-description">Compléter les exercices de mathématiques</div>
              <div class="task-meta">
                <div class="meta-item">
                  <img src="../../assets/icons/calendar.svg" alt="" />
                   18 janvier 2026
                </div>
                <div class="meta-item">
                  <img src="../../assets/icons/user.svg" alt="" />
                   Jean Leclerc
                </div>
              </div>
            </div>
          </div>
          <div class="task-footer">
            <div class="task-actions-row">
              <div class="priority-badge priority-high">Haute</div>
              <div class="status-badge status-pending">En cours</div>
            </div>
            <div class="task-actions">
              <button class="action-btn" aria-label="Modifier la tâche">
                <img src="../../assets/icons/pencil.svg" alt="" />
              </button>
              <button class="action-btn" aria-label="Supprimer la tâche">
                <img src="../../assets/icons/trash-2.svg" alt="" />
              </button>
            </div>
          </div>
        </div>

        <div class="task-card status-inprogress">
          <div class="task-header">
            <input type="checkbox" class="task-checkbox" id="task5" />
            <div class="task-content">
              <div class="task-title">Rédaction</div>
              <div class="task-description">Rédiger un texte sur le sujet donné</div>
              <div class="task-meta">
                <div class="meta-item">
                  <img src="../../assets/icons/calendar.svg" alt="" />
                   20 janvier 2026
                </div>
                <div class="meta-item">
                  <img src="../../assets/icons/user.svg" alt="" />
                   Léa Bernard
                </div>
              </div>
            </div>
          </div>
          <div class="task-footer">
            <div class="task-actions-row">
              <div class="priority-badge priority-medium">Normal</div>
              <div class="status-badge status-inprogress">En cours</div>
            </div>
            <div class="task-actions">
              <button class="action-btn" aria-label="Modifier la tâche">
                <img src="../../assets/icons/pencil.svg" alt="" />
              </button>
              <button class="action-btn" aria-label="Supprimer la tâche">
                <img src="../../assets/icons/trash-2.svg" alt="" />
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="modal-backdrop" id="modalBackdrop"></div>
    <div class="modal" id="createTaskModal" data-mode="create">
      <div class="modal-header">
        <h2 class="modal-title" id="modalTitle">+ Créer une nouvelle tâche</h2>
        <button class="modal-close" id="closeModalBtn" aria-label="Fermer le modal">
          <img src="../../assets/icons/x.svg" width="18" height="18" alt="" />
        </button>
      </div>

      <div class="modal-body">
        <form id="taskForm">
          <div class="form-group">
            <label for="taskTitle">Titre de la tâche</label>
            <input type="text" id="taskTitle" placeholder="Ex: Équations du second degré" required />
          </div>

          <div class="form-group">
            <label for="taskDescription">Description</label>
            <textarea
              id="taskDescription"
              class="form-textarea"
              placeholder="Décrivez la tâche en détail..."
              required
            ></textarea>
          </div>

          <div class="form-group">
            <label for="taskStudent">Assigné à</label>
            <div class="custom-dropdown" id="taskStudentDropdown">
              <button type="button" class="dropdown-toggle" tabindex="0">-- Sélectionner un élève --</button>
              <div class="dropdown-menu">
                <button type="button" class="dropdown-item" tabindex="0">-- Sélectionner un élève --</button>
                <button type="button" class="dropdown-item" tabindex="0">Antoine Kreuder</button>
                <button type="button" class="dropdown-item" tabindex="0">Sophie Martin</button>
                <button type="button" class="dropdown-item" tabindex="0">Jean Leclerc</button>
                <button type="button" class="dropdown-item" tabindex="0">Léa Bernard</button>
                <button type="button" class="dropdown-item" tabindex="0">Autre élève</button>
              </div>
            </div>
          </div>

          <div class="form-group">
            <label for="taskDeadline">Date limite</label>
            <input type="date" id="taskDeadline" required />
          </div>

          <div class="task-meta task-meta-modal" id="taskMetaSection" hidden>
            <div class="meta-item">
              <img src="../../assets/icons/user.svg" alt="" />
              <span id="taskAttributedBy">Assigné par: —</span>
            </div>
          </div>

          <div class="form-group">
            <label for="taskPriority">Priorité</label>
            <div class="custom-dropdown" id="taskPriorityDropdown">
              <button type="button" class="dropdown-toggle" tabindex="0">Normal</button>
              <div class="dropdown-menu">
                <button type="button" class="dropdown-item" tabindex="0">Basse</button>
                <button type="button" class="dropdown-item selected" tabindex="0">Normal</button>
                <button type="button" class="dropdown-item" tabindex="0">Haute</button>
              </div>
            </div>
          </div>
        </form>
      </div>

      <div class="modal-footer">
        <button class="button button-primary" id="submitTaskBtn" data-action="create">Créer la tâche</button>
        <button class="button button-secondary" id="cancelTaskBtn">Annuler</button>
      </div>
    </div>

    <div id="toast-container" class="toast-container"></div>

    <div class="copyright">© 2026 Learn@Home. All rights reserved.</div>
    <script type="module" src="../../assets/js/pages/tasks-tutor.js"></script>
  </body>
</html>
